---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
# image will be published to ghcr.io/<user>/<name>
name: weird-os
# description will be included in the image's metadata
description: This is my personal OS image.

# the base image to build on top of (FROM) and the version tag to use
base-image: ghcr.io/secureblue/securecore-main-hardened
image-version: latest

# module configuration, executed in order
# you can include multiple instances of the same module
modules:
  - type: files
    files:
      - source: system
        destination: / # copies files/system/* (* means everything inside it) into your image's root folder /

  - type: dnf
    install:
      packages:
        # drivers
        - mesa-dri-drivers
        # desktop
        - niri
        - lxqt-niri-session
        # apps
        - foot
        # dev
        - neovim
        # utils
        - btop
  
  - type: default-flatpaks
    configurations:
      - notify: true # Send notification after install/uninstall is finished (true/false)
        scope: system
        # If no repo information is specified, Flathub will be used by default
        install:
          - com.github.tchx84.Flatseal
  
  # Remove just
  - type: dnf
    remove:
      packages:
        - just

  - type: signing
